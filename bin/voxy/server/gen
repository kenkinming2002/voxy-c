#!/bin/sh

set -e

cd $(dirname "$0")

run()
{
  echo "$1"
  eval "$1"
}

for name in entity block item; do
  NAME=$(echo $name |tr [a-z] [A-Z])
  run "< include/voxy/server/registry/registry.h sed s/name/$name/g | sed s/NAME/$NAME/g > include/voxy/server/registry/$name.h"
  run "< src/registry/registry.h sed s/name/$name/g | sed s/NAME/$NAME/g > src/registry/$name.h"
  run "< src/registry/registry.c sed s/name/$name/g | sed s/NAME/$NAME/g > src/registry/$name.c"
done
